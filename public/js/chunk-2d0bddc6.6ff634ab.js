(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bddc6"],{"2e96":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("b-card",{staticClass:"mb-3",attrs:{"bg-variant":"light","no-body":""},scopedSlots:t._u([{key:"header",fn:function(){return[e("i",{staticClass:"ri-settings-fill"}),t._v(" 设置 ")]},proxy:!0}])},[e("b-card-body",[e("b-tabs",{attrs:{pills:"","content-class":"mt-3"}},[e("b-tab",{attrs:{title:"基本设置",active:""}},[e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-basic-0",label:"站点名称","label-for":"basic-0"}},[e("b-form-input",{attrs:{id:"basic-0",type:"text",placeholder:"站点名称"},model:{value:t.form.site_name,callback:function(o){t.$set(t.form,"site_name",o)},expression:"form.site_name"}})],1),e("b-form-group",{attrs:{id:"input-basic-2",label:"资源目录","label-for":"basic-2"}},[e("b-form-input",{attrs:{id:"basic-2",required:"",placeholder:"资源根目录"},model:{value:t.form.root_path,callback:function(o){t.$set(t.form,"root_path",o)},expression:"form.root_path"}})],1),e("b-form-group",{attrs:{id:"input-basic-2-1",label:"隐藏目录","label-for":"basic-2-1"}},[e("b-form-tags",{attrs:{id:"basic-2-1",placeholder:"请输入需要隐藏的目录"},model:{value:t.form.hide_path,callback:function(o){t.$set(t.form,"hide_path",o)},expression:"form.hide_path"}})],1),e("b-form-group",{attrs:{id:"input-basic-2-2",label:"隐藏目录密码","label-for":"basic-2-2"}},[e("b-form-input",{attrs:{id:"basic-2-2"},model:{value:t.form.hide_path_password,callback:function(o){t.$set(t.form,"hide_path_password",o)},expression:"form.hide_path_password"}})],1),e("b-form-group",{attrs:{id:"input-basic-3",label:"缓存时间(秒)","label-for":"basic-3",description:"建议缓存时间小于60分钟，否则会导致缓存失效"}},[e("b-form-input",{attrs:{id:"basic-3",placeholder:"缓存时间"},model:{value:t.form.expires,callback:function(o){t.$set(t.form,"expires",o)},expression:"form.expires"}})],1),e("b-form-group",{attrs:{id:"input-basic-4",label:"开启搜索","label-for":"basic-4"}},[e("b-form-radio-group",{attrs:{name:"radio-open_search",id:"basic-4"},model:{value:t.form.open_search,callback:function(o){t.$set(t.form,"open_search",o)},expression:"form.open_search"}},[e("b-form-radio",{attrs:{value:"0"}},[t._v("关闭")]),e("b-form-radio",{attrs:{value:"1"}},[t._v("开启")])],1)],1),e("b-form-group",{attrs:{id:"input-basic-5",label:"搜索频率","label-for":"basic-5",description:"重试等待时间默认是1分钟（格式：5,10，每10分钟最多上传5次；5 每分钟最多上传5次）"}},[e("b-form-input",{attrs:{id:"basic-5",type:"text",placeholder:"搜索频率"},model:{value:t.form.search_limit,callback:function(o){t.$set(t.form,"search_limit",o)},expression:"form.search_limit"}})],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[e("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{small:""}}),e("span",{staticClass:"mx-2"},[t._v("保存")])],1)],1)],1),e("b-tab",{attrs:{title:"显示设置"}},[e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-show-1",label:"图片","label-for":"show-1",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-1",type:"text"},model:{value:t.form.show.image,callback:function(o){t.$set(t.form.show,"image",o)},expression:"form.show.image"}})],1),e("b-form-group",{attrs:{id:"input-show-2",label:"视频","label-for":"show-2",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-2",type:"text"},model:{value:t.form.show.video,callback:function(o){t.$set(t.form.show,"video",o)},expression:"form.show.video"}})],1),e("b-form-group",{attrs:{id:"input-show-3",label:"dash视频","label-for":"show-3",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-3",type:"text"},model:{value:t.form.show.dash,callback:function(o){t.$set(t.form.show,"dash",o)},expression:"form.show.dash"}})],1),e("b-form-group",{attrs:{id:"input-show-4",label:"音频","label-for":"show-4",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-4",type:"text"},model:{value:t.form.show.audio,callback:function(o){t.$set(t.form.show,"audio",o)},expression:"form.show.audio"}})],1),e("b-form-group",{attrs:{id:"input-show-5",label:"文档","label-for":"show-5",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-5",type:"text"},model:{value:t.form.show.doc,callback:function(o){t.$set(t.form.show,"doc",o)},expression:"form.show.doc"}})],1),e("b-form-group",{attrs:{id:"input-show-6",label:"代码","label-for":"show-6",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-6",type:"text"},model:{value:t.form.show.code,callback:function(o){t.$set(t.form.show,"code",o)},expression:"form.show.code"}})],1),e("b-form-group",{attrs:{id:"input-show-7",label:"文件流","label-for":"show-7",description:"文件展示类型（扩展名）以空格分开"}},[e("b-form-input",{attrs:{id:"show-7",type:"text"},model:{value:t.form.show.stream,callback:function(o){t.$set(t.form.show,"stream",o)},expression:"form.show.stream"}})],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[e("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{small:""}}),e("span",{staticClass:"mx-2"},[t._v("保存")])],1)],1)],1),e("b-tab",{attrs:{title:"图床设置"}},[e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-image-1",label:"开启图床","label-for":"image-1"}},[e("b-form-radio-group",{attrs:{name:"radio-sub-component",id:"image-1"},model:{value:t.form.open_image_hosting,callback:function(o){t.$set(t.form,"open_image_hosting",o)},expression:"form.open_image_hosting"}},[e("b-form-radio",{attrs:{value:"0"}},[t._v("关闭")]),e("b-form-radio",{attrs:{value:"1"}},[t._v("开启")]),e("b-form-radio",{attrs:{value:"2"}},[t._v("仅管理员开启")])],1)],1),e("b-form-group",{attrs:{id:"input-image-2",label:"图床保存地址","label-for":"image-2"}},[e("b-form-input",{attrs:{id:"image-2",type:"text",placeholder:"图床保存地址"},model:{value:t.form.image_hosting_path,callback:function(o){t.$set(t.form,"image_hosting_path",o)},expression:"form.image_hosting_path"}})],1),e("b-form-group",{attrs:{id:"input-image-3",label:"图床上传频率","label-for":"image-3",description:"重试等待时间默认是1分钟（格式：5,10，每10分钟最多上传5次；5 每分钟最多上传5次）"}},[e("b-form-input",{attrs:{id:"image-3",type:"text",placeholder:"图床上传频率"},model:{value:t.form.image_hosting_limit,callback:function(o){t.$set(t.form,"image_hosting_limit",o)},expression:"form.image_hosting_limit"}})],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[e("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{small:""}}),e("span",{staticClass:"mx-2"},[t._v("保存")])],1)],1)],1),e("b-tab",{attrs:{title:"其他设置"}},[e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-other-1",label:"防盗链","label-for":"other-1"}},[e("b-form-input",{attrs:{id:"other-1",type:"text",placeholder:"防盗链白名单"},model:{value:t.form.whitelist,callback:function(o){t.$set(t.form,"whitelist",o)},expression:"form.whitelist"}})],1),e("b-form-group",{attrs:{id:"input-other-2",label:"自定义版权","label-for":"other-2"}},[e("b-form-input",{attrs:{id:"other-2",type:"text",placeholder:"自定义版权"},model:{value:t.form.copyright,callback:function(o){t.$set(t.form,"copyright",o)},expression:"form.copyright"}})],1),e("b-form-group",{attrs:{id:"input-other-3",label:"统计代码","label-for":"other-3"}},[e("b-form-input",{attrs:{id:"other-3",type:"text",placeholder:"统计代码"},model:{value:t.form.statistics,callback:function(o){t.$set(t.form,"statistics",o)},expression:"form.statistics"}})],1),e("b-form-group",{attrs:{id:"input-other-4",label:"接口token","label-for":"other-4"}},[e("b-form-input",{attrs:{id:"other-4",type:"text",placeholder:"接口token"},model:{value:t.form.token,callback:function(o){t.$set(t.form,"token",o)},expression:"form.token"}})],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[e("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{small:""}}),e("span",{staticClass:"mx-2"},[t._v("保存")])],1)],1)],1)],1)],1)],1)},r=[],i=e("2777");function s(t){return i["a"].get("/api/settings",t)}function l(t){return i["a"].post("/api/settings",t)}var n={name:"page-setting",data:function(){return{loading:!1,form:{site_name:"OLAINDEX",root_path:"/share",hide_path:[],hide_path_password:"",expires:"1800",open_search:0,search_limit:"5,5",show:{image:"png",video:"mp4",dash:"avi",audio:"mp3",doc:"doc xls",code:"php js",stream:"txt log"},open_image_hosting:0,image_hosting_path:"/image",image_hosting_limit:"5,5",whitelist:"imwnk.cn",copyright:"",statistics:"",token:"123456"}}},methods:{init:function(){var t=this;s().then((function(o){var e=Object.assign(t.form,o.data);console.log(e)}))},onSubmit:function(t){t.preventDefault();var o=this;o.loading=!0,l(o.form).then((function(t){console.log(t),o.loading=!1,o.$toasted.success("保存成功")})).catch((function(t){console.log(t),o.loading=!1}))}},created:function(){this.init()}},m=n,p=e("2877"),b=Object(p["a"])(m,a,r,!1,null,null,null);o["default"]=b.exports}}]);